!function(){const e=[];let t=e=>{const t=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,composed:!0,key:"Enter",code:"Enter",keyCode:13,which:13}),o=new KeyboardEvent("keypress",{bubbles:!0,cancelable:!0,composed:!0,key:"Enter",code:"Enter",keyCode:13,which:13}),a=new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,composed:!0,key:"Enter",code:"Enter",keyCode:13,which:13});e.dispatchEvent(t),e.dispatchEvent(o),e.dispatchEvent(a)},o=(e,t)=>{const o=[];for(let e=0;e<=t.length;e++)o[e]=[e];for(let t=0;t<=e.length;t++)o[0][t]=t;for(let a=1;a<=t.length;a++)for(let n=1;n<=e.length;n++)t.charAt(a-1)===e.charAt(n-1)?o[a][n]=o[a-1][n-1]:o[a][n]=Math.min(o[a-1][n-1]+1,o[a][n-1]+1,o[a-1][n]+1);return o[t.length][e.length]},a=(e,t)=>{const o=new Event("contentAdjusted");if(e>0){let a=document.querySelector(`[data-automation-id="${t}"] [data-automation-id="Add"]`)||document.querySelector(`[data-automation-id="${t}"] [data-automation-id="Add Another"]`);for(let t=0;t<e;t++)setTimeout((()=>{a.click(),document.dispatchEvent(o)}),500)}else{let a=document.querySelector(`[data-automation-id="${t}"] [data-automation-id="panel-set-delete-button"]`);for(let t=0;t<Math.abs(e);t++)setTimeout((()=>{a.click(),document.dispatchEvent(o)}),500)}},n=(t,o)=>{const a=new Event("input",{bubbles:!0});for(let n=0;n<t;n++){let t=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="jobTitle"]`),r=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="company"]`),i=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="location"]`);t.value=o[n].jobTitle,r.value=o[n].company,i.value=o[n].location;let c=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="formField-startDate"] [data-automation-id="dateSectionMonth-input"]`);c.value=o[n].startDateYear,c.dispatchEvent(a);let l=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="formField-startDate"] [data-automation-id="dateSectionYear-input"]`);if(l.value=o[n].startDateYear,l.dispatchEvent(a),e.push(t,r,i,c,l),o[n].current)document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="currentlyWorkHere"]`).click();else{let t=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="formField-endDate"] [data-automation-id="dateSectionMonth-input"]`);t.value=o[n].endDateMonth,t.dispatchEvent(a);let r=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="formField-endDate"] [data-automation-id="dateSectionYear-input"]`);r.value=o[n].endDateYear,r.dispatchEvent(a),e.push(t,r)}let u=document.querySelector(`[data-automation-id="workExperience-${n+1}"] [data-automation-id="description"]`);u.value=o[n].roleDescription,e.push(u)}},r=(e,t)=>{if(!t)return console.error("Dropdown not found"),Promise.reject(new Error("Dropdown not found"));try{t.click()}catch(e){return console.error("Failed to click dropdown:",e),Promise.reject(new Error("Failed to click dropdown"))}return new Promise(((a,n)=>{setTimeout((()=>{const r=document.querySelectorAll('[role="option"]');let i=!1,c=null,l=1/0;r.forEach((t=>{const n=t.textContent.trim();if(n===e)i=!0,t.click(),a();else{const a=o(e,n);a<l&&(l=a,c=t)}})),!i&&c?(c.click(),a()):i||(t.click(),t.click(),n(new Error("Option not found")))}),500)}))},i=async(a,n)=>{for(let i=0;i<a;i++){let a=document.querySelector(`[data-automation-id="education-${i+1}"] [data-automation-id="school"]`);if(a)a.value=n[i].school,e.push(a);else{document.querySelector(`[data-automation-id="education-${i+1}"] [data-automation-id="multiselectInputContainer"]`).click(),await new Promise((e=>setTimeout(e,500)));let a=document.querySelector(`[data-automation-id="education-${i+1}"] [data-automation-id="searchBox"]`);a.value=n[i].school,e.push(a),t(a),await new Promise((e=>{setTimeout((()=>{const t=document.querySelectorAll('[role="option"]');console.log("These are all the options after searching:",t);let a=!1,r=null,c=1/0;if(t.forEach((t=>{const l=t.textContent.trim(),u=t.querySelector("input");if(l===n[i].school)return a=!0,console.log("This is the option that matches exactly:",t),u.click(),void e();{const e=o(n[i].school,l);e<c&&(c=e,r=t)}})),!a&&r){console.log("This is the option that matches closest:",r);const t=r.querySelector("input");t&&t.click(),e()}else if(!a){let t=document.querySelector('[data-automation-id="clearSearchButton"]');console.log("closeElement is present:",t),t.click(),e()}}),500)}))}await r(n[i].degree,document.querySelector(`[data-automation-id="education-${i+1}"] [data-automation-id="degree"]`))}},c=(e,t)=>{if(e){const o=e.querySelectorAll("label"),a=Array.from(o).some((e=>e.textContent.trim().includes(t)));return a?console.log("Label with text exists"):console.log("Label with text does not exist"),a}return console.log("Parent element does not exist"),!1},l=async(e,t)=>{for(let o=0;o<e;o++)try{await r(t[o].language,document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="language"]`)),t[o].fluent&&document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="nativeLanguage"]`).click(),c(document.querySelector(`[data-automation-id="language-${o+1}"]`),"Overall")?(console.log("Overall triggered"),await r(t[o].overallProficiency,document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="languageProficiency-0"]`))):(await r(t[o].reading,document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="languageProficiency-0"]`)),await r(t[o].speaking,document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="languageProficiency-1"]`)),await r(t[o].writing,document.querySelector(`[data-automation-id="language-${o+1}"] [data-automation-id="languageProficiency-2"]`)))}catch(e){console.error(`Error processing language at index ${o}`,e)}},u=async(t,o)=>{const a=new Event("input",{bubbles:!0});for(let n=0;n<t;n++){let t=document.querySelector(`[data-automation-id="websitePanelSet-${n+1}"] [data-automation-id="website"]`);console.log("Input element for website links:",t),setTimeout((()=>{t.value=o[n],e.push(t),t.dispatchEvent(a)}),500)}};(async()=>{await new Promise((e=>{setTimeout((()=>{console.log("Starting up!"),e()}),3e3)})),await chrome.storage.local.get("totalJobs").then((e=>{let t=e.totalJobs,o=document.querySelectorAll('[data-automation-id="formField-jobTitle"]').length||0;return a(t-o,"workExperienceSection"),new Promise((e=>{setTimeout((()=>{e(t)}),2e3)}))})).catch((e=>(console.error("Error occurred while getting job count",e),0))).then((e=>chrome.storage.local.get("jobs").then((t=>{n(e,t.jobs)})).catch((t=>{console.error("Error occurred while getting jobs:",t),n(e,[])})))).catch((e=>{console.error("Error occurred while filling job",e)})).then((()=>new Promise((e=>{setTimeout((()=>{console.log("Finished workContainer"),e()}),500)})))),await chrome.storage.local.get("totalEducation").then((e=>{let t=e.totalEducation,o=document.querySelectorAll('[data-automation-id="formField-school"]').length+document.querySelectorAll('[data-automation-id="formField-schoolItem"]').length;return a(t-o,"educationSection"),new Promise((e=>{setTimeout((()=>{e(t)}),2e3)}))})).catch((e=>(console.error("Error occurred while adding education counts",e),0))).then((e=>chrome.storage.local.get("education").then((t=>{console.log("Array of education:",t.education),i(e,t.education)})).catch((t=>{console.error("Unable to retrieve education:",t),i(e,[])})))).then((()=>new Promise((e=>{setTimeout((()=>{console.log("Finished educationContainer"),e()}),500)})))).catch((e=>{console.error("Error occurred while filling education:",e)})),await chrome.storage.local.get("languageCount").then((e=>{console.log("Languages Count:",e.languageCount);let t=e.languageCount,o=document.querySelectorAll('[data-automation-id="formField-language"]').length||0;console.log("webPageLanguageCount:",o);let n=t-o;return console.log("languageCountDifference:",n),a(n,"languageSection"),new Promise((e=>{setTimeout((()=>{e(t)}),2e3)}))})).catch((e=>(console.error("Error occurred while adding languages:",e),0))).then((e=>chrome.storage.local.get("languages").then((t=>{console.log("Array of languages:",t.languages),l(e,t.languages)})).catch((t=>{console.error("Error occurred while populating languages:",t),l(e,[])})))).then((()=>new Promise((e=>{setTimeout((()=>{console.log("Finished languageContainer"),e()}),500)})))).catch((e=>{console.error("Error occurred while processing languages:",e)})),await chrome.storage.local.get("websitesCount").then((e=>{let t=e.websitesCount,o=document.querySelectorAll('[data-automation-id="website"]').length||0;return a(t-o,"websiteSection"),new Promise((e=>{setTimeout((()=>{e(t)}),2e3)}))})).catch((e=>(console.error("Error occurred while getting websites count:",e),0))).then((e=>chrome.storage.local.get("websites").then((t=>{console.log("Array of websites:",t.websites),u(e,t.websites)})).catch((t=>{console.error("Error occurred while retrieving websites:",t),u(e,[])})))).then((()=>new Promise((e=>{setTimeout((()=>{console.log("Finished websiteContainer"),e()}),500)})))).catch((e=>{console.error("Error occurred in websitesContainer:",e)}));let t=document.querySelector('[data-automation-id="bottom-navigation-next-button"]');const o=a=>{(e=>{for(let t=0;t<e.length;t++)setTimeout((()=>{console.log(e[t]),e[t].focus()}),100)})(e),t.click(),t.removeEventListener("click",o)};t.addEventListener("click",o)})()}();